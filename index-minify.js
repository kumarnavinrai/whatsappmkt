const{app:e,BrowserWindow:o,shell:s}=require("electron"),path=require("path"),fs=require("fs"),open=require("open"),exec=require("child_process").exec,spawn=require("child_process").spawn,ncp=require("copy-paste"),basePath="/node/bot/src/",cmdPath="/d/node/bot/src/";function execute(e,o){exec(e,(e,s,t)=>{o(s)})}const loadMainWindow=()=>{let e=new o({width:1400,height:1e3,x:0,y:0,webPreferences:{nodeIntegration:!0,preload:path.join(__dirname,"preload.js")}});e.setMenuBarVisibility(!1),e.loadFile(path.join(__dirname,"index.html"));let s=o.getFocusedWindow();var t=1,n="";s.webContents.on("before-input-event",(o,s)=>{switch(!0){case s?.type==="keyDown"&&s?.key==="1"&&"control"===s?.modifiers[0]:console.log("task 1 file was spwan"),n='console.log("task 1 file was deleted");console.log("task 1 file");';var t=spawn("node",["src/helpers/link.js",0,]);t.stdout.on("data",e=>{console.log("stdout"+e)}),t.stderr.on("data",e=>{console.log("stderr"+e)}),t.on("close",e=>{console.log("chid process exisited")});break;case s?.type==="keyDown"&&s?.key==="2"&&"control"===s?.modifiers[0]:console.log("task 1 file was spwan"),n='console.log("task 1 file was deleted");console.log("task 1 file");';var t=spawn("node",["src/helpers/firstfollowup.js",0,]);t.stdout.on("data",e=>{console.log("stdout"+e)}),t.stderr.on("data",e=>{console.log("stderr"+e)}),t.on("close",e=>{console.log("chid process exisited")});break;case s?.type==="keyDown"&&s?.key==="3"&&"control"===s?.modifiers[0]:console.log("task 1 file was spwan"),n='console.log("task 1 file was deleted");console.log("task 1 file");';var t=spawn("node",["src/helpers/secondfollowup.js",0,]);t.stdout.on("data",e=>{console.log("stdout"+e)}),t.stderr.on("data",e=>{console.log("stderr"+e)}),t.on("close",e=>{console.log("chid process exisited")});break;case s?.type==="keyDown"&&s?.key==="4"&&"control"===s?.modifiers[0]:console.log("task 1 file was spwan"),n='console.log("task 1 file was deleted");console.log("task 1 file");';var t=spawn("node",["src/helpers/thirdfollowup.js",0,]);t.stdout.on("data",e=>{console.log("stdout"+e)}),t.stderr.on("data",e=>{console.log("stderr"+e)}),t.on("close",e=>{console.log("chid process exisited")});break;case s?.type==="keyDown"&&s?.key==="5"&&"control"===s?.modifiers[0]:console.log("task 1 file was spwan"),n='console.log("task 1 file was deleted");console.log("task 1 file");';var t=spawn("node",["src/helpers/forthfollowup.js",0,]);t.stdout.on("data",e=>{console.log("stdout"+e)}),t.stderr.on("data",e=>{console.log("stderr"+e)}),t.on("close",e=>{console.log("chid process exisited")});break;case s?.type==="keyDown"&&s?.key==="q"&&"control"===s?.modifiers[0]:e.webContents.openDevTools();break;case s?.type==="keyDown"&&s?.key==="e"&&"control"===s?.modifiers[0]:e.webContents.closeDevTools();break;case s?.type==="keyDown"&&s?.key==="o"&&"control"===s?.modifiers[0]:console.log(ncp.paste());break;case s?.type==="keyDown"&&s?.key==="h"&&"control"===s?.modifiers[0]:console.log("running ctrl r"),setTimeout(()=>{fs.existsSync("getmousepos.js")&&fs.unlinkSync("getmousepos.js"),setTimeout(()=>{n='var robot = require("robotjs"); var ext = require("exit");console.log(robot.getMousePos()); setTimeout(() => { ext(5); }, 1000);',fs.writeFile("getmousepos.js",n,function(e){if(e)throw e;execute("node getmousepos.js",e=>{console.log(e),fs.existsSync("getmousepos.js")&&fs.unlinkSync("getmousepos.js")})})},1e3)},1e3);break;case s?.type==="keyDown"&&s?.key==="u"&&"control"===s?.modifiers[0]:n='console.log("task 2 file was deleted");console.log("task 2 file")',console.log("send connect started"),n='var robot = require("robotjs"); var ext = require("exit");console.log(robot.getMousePos()); setTimeout(() => { ext(5); }, 1000);';var l=ncp.paste();setTimeout(()=>{fs.existsSync(basePath+"services/components/login/login.js")&&fs.unlinkSync(basePath+"services/components/login/login.js"),setTimeout(()=>{n='console.log("task 2 file was deleted");console.log("task 2 file")',fs.writeFile(basePath+"services/components/login/login.js",n,function(e){if(e)throw e;var o=spawn("node",["src/helpers/sendconnect.js",0,]);o.stdout.on("data",e=>{console.log("stdout"+e)}),o.stderr.on("data",e=>{console.log("stderr"+e)}),o.on("close",e=>{console.log("chid process exisited")})})},1e3)},4e3)}})};e.whenReady().then(()=>{loadMainWindow(),e.on("activate",()=>{0===o.getAllWindows().length&&loadMainWindow()}),e.once("ready",()=>{mainWindow&&mainWindow.getPosition()})}),e.on("window-all-closed",()=>{"darwin"!==process.platform&&e.quit()});